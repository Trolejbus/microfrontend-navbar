/*! For license information please see react-mf-navbar.js.LICENSE.txt */
import*as e from"react";import*as t from"react-dom/client";import*as n from"react-dom";var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=e,a=(i={default:()=>t.default},l={},r.d(l,i),l);var i,l;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n;if("function"!=typeof(n=t.domElement?function(){return t.domElement}:t.domElementGetter?t.domElementGetter:e.domElementGetter?e.domElementGetter:function(e){var t=e.appName||e.name;if(!t)throw Error("single-spa's dom-element-getter-helpers was not given an application name as a prop, so it can't make a unique dom element container for the react application");var n="single-spa-application:".concat(t);return function(){var e=document.getElementById(n);return e||((e=document.createElement("div")).id=n,document.body.appendChild(e)),e}}(t)))throw Error("single-spa's dom-element-getter-helpers was given an invalid domElementGetter for application or parcel '".concat(t.name,"'. Expected a function, received ").concat(m(n)));return function(){var e=n(t);if(!(e instanceof HTMLElement))throw Error("single-spa's dom-element-getter-helpers: domElementGetter returned an invalid dom element for application or parcel '".concat(t.name,"'. Expected HTMLElement, received ").concat(m(e)));return e}}var d=null;try{d=require("react").createContext()}catch(s){}var h={React:null,ReactDOM:null,ReactDOMClient:null,rootComponent:null,loadRootComponent:null,errorBoundary:null,errorBoundaryClass:null,domElementGetter:null,parcelCanUpdate:!0,suppressComponentDidCatchWarning:!1,domElements:{},renderResults:{},updateResolves:{},unmountResolves:{}};function v(e,t){return e.rootComponent?Promise.resolve():e.loadRootComponent(t).then(function(t){e.rootComponent=t})}function y(e,t){return new Promise(function(n,r){e.suppressComponentDidCatchWarning||!function(e){if(!(e&&"string"==typeof e.version&&e.version.indexOf(".")>=0))return!1;var t=e.version.slice(0,e.version.indexOf("."));try{return Number(t)>=16}catch(e){return!1}}(e.React)||e.errorBoundary||e.errorBoundaryClass||(e.rootComponent.prototype?e.rootComponent.prototype.componentDidCatch||console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.")):console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent does not implement an error boundary.  If using a functional component, consider providing an opts.errorBoundary to singleSpaReact(opts).")));var o=C(e,t,function(){n(this)}),a=f(e,t)(),i=function(e){var t=e.renderType,n=e.elementToRender,r=e.domElement,o=e.reactDom[t];if("function"!=typeof o)throw new Error('renderType "'.concat(t,'" did not return a function.'));switch(t){case"createRoot":case"unstable_createRoot":case"createBlockingRoot":case"unstable_createBlockingRoot":var a=o(r);return a.render(n),a;case"hydrateRoot":return o(r,n);default:return o(n,r),null}}({elementToRender:o,domElement:a,reactDom:R(e),renderType:w(e)});e.domElements[t.name]=a,e.renderResults[t.name]=i})}function g(e,t){return new Promise(function(n){e.unmountResolves[t.name]=n;var r=e.renderResults[t.name];r&&r.unmount?r.unmount():R(e).unmountComponentAtNode(e.domElements[t.name]),delete e.domElements[t.name],delete e.renderResults[t.name]})}function b(e,t){return new Promise(function(n){e.updateResolves[t.name]||(e.updateResolves[t.name]=[]),e.updateResolves[t.name].push(n);var r=C(e,t,null),o=e.renderResults[t.name];if(o&&o.render)o.render(r);else{var a=f(e,t)();R(e).render(r,a)}})}function R(e){return e.ReactDOMClient||e.ReactDOM}function w(e){return"function"==typeof e.renderType?e.renderType():e.renderType}function C(e,t,n){var r=e.React.createElement(e.rootComponent,t),o=d?e.React.createElement(d.Provider,{value:t},r):r;return(e.errorBoundary||t.errorBoundary||e.errorBoundaryClass||t.errorBoundaryClass)&&(e.errorBoundaryClass=e.errorBoundaryClass||t.errorBoundaryClass||function(e,t){function n(t){e.React.Component.apply(this,arguments),this.state={caughtError:null,caughtErrorInfo:null},n.displayName="SingleSpaReactErrorBoundary(".concat(t.name,")")}return n.prototype=Object.create(e.React.Component.prototype),n.prototype.render=function(){return this.state.caughtError?(e.errorBoundary||t.errorBoundary)(this.state.caughtError,this.state.caughtErrorInfo,this.props):this.props.children},n.prototype.componentDidCatch=function(e,t){this.setState({caughtError:e,caughtErrorInfo:t})},n}(e,t),o=e.React.createElement(e.errorBoundaryClass,t,o)),e.React.createElement(e.SingleSpaRoot,u(u({},t),{},{mountFinished:n,updateFinished:function(){e.updateResolves[t.name]&&(e.updateResolves[t.name].forEach(function(e){return e()}),delete e.updateResolves[t.name])},unmountFinished:function(){e.unmountResolves[t.name]&&(e.unmountResolves[t.name](),delete e.unmountResolves[t.name])}}),o)}var E=[{name:"People",href:"/people"},{name:"Planets",href:"/planets"},{name:"Dogs",href:"/view-dogs"}];const S=n;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}var x,P;(P=x||(x={})).Pop="POP",P.Push="PUSH",P.Replace="REPLACE";const j="popstate";function D(e,t){if(!1===e||null==e)throw new Error(t)}function U(e,t){return{usr:e.state,key:e.key,idx:t}}function T(e,t,n,r){return void 0===n&&(n=null),O({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?N(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function B(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k;function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=N(e):(o=O({},e),D(!o.pathname||!o.pathname.includes("?"),M("?","pathname","search",o)),D(!o.pathname||!o.pathname.includes("#"),M("#","pathname","hash",o)),D(!o.search||!o.search.includes("#"),M("#","search","hash",o)));let a,i=""===e||""===o.pathname,l=i?"/":o.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?N(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:A(r),hash:I(o)}}(o,a),u=l&&"/"!==l&&l.endsWith("/"),c=(i||"."===l)&&n.endsWith("/");return s.pathname.endsWith("/")||!u&&!c||(s.pathname+="/"),s}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(k||(k={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const W=e=>e.join("/").replace(/\/\/+/g,"/"),A=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",I=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const G=["post","put","patch","delete"],H=(new Set(G),["get",...G]);function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}new Set(H),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const z=o.createContext(null),K=o.createContext(null),V=o.createContext(null),q=o.createContext({outlet:null,matches:[],isDataRoute:!1});function $(){return null!=o.useContext(V)}function Q(){return $()||D(!1),o.useContext(V).location}function X(e){o.useContext(K).static||o.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=o.useContext(q);return e?function(){let{router:e}=function(){let e=o.useContext(z);return e||D(!1),e}(ee.UseNavigateStable),t=function(){let e=function(){let e=o.useContext(q);return e||D(!1),e}(),t=e.matches[e.matches.length-1];return t.route.id||D(!1),t.route.id}(te.UseNavigateStable),n=o.useRef(!1);return X(()=>{n.current=!0}),o.useCallback(function(r,o){void 0===o&&(o={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,J({fromRouteId:t},o)))},[e,t])}():function(){$()||D(!1);let e=o.useContext(z),{basename:t,future:n,navigator:r}=o.useContext(K),{matches:a}=o.useContext(q),{pathname:i}=Q(),l=JSON.stringify(_(a,n.v7_relativeSplatPath)),s=o.useRef(!1);return X(()=>{s.current=!0}),o.useCallback(function(n,o){if(void 0===o&&(o={}),!s.current)return;if("number"==typeof n)return void r.go(n);let a=F(n,JSON.parse(l),i,"path"===o.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:W([t,a.pathname])),(o.replace?r.replace:r.push)(a,o.state,o)},[t,r,l,i,e])}()}function Z(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(K),{matches:a}=o.useContext(q),{pathname:i}=Q(),l=JSON.stringify(_(a,r.v7_relativeSplatPath));return o.useMemo(()=>F(e,JSON.parse(l),i,"path"===n),[e,l,i,n])}o.Component;var ee=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ee||{}),te=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(te||{});function ne(e){let{basename:t="/",children:n=null,location:r,navigationType:a=x.Pop,navigator:i,static:l=!1,future:s}=e;$()&&D(!1);let u=t.replace(/^\/*/,"/"),c=o.useMemo(()=>({basename:u,navigator:i,static:l,future:J({v7_relativeSplatPath:!1},s)}),[u,s,i,l]);"string"==typeof r&&(r=N(r));let{pathname:p="/",search:m="",hash:f="",state:d=null,key:h="default"}=r,v=o.useMemo(()=>{let e=L(p,u);return null==e?null:{location:{pathname:e,search:m,hash:f,state:d,key:h},navigationType:a}},[u,p,m,f,d,h,a]);return null==v?null:o.createElement(K.Provider,{value:c},o.createElement(V.Provider,{children:n,value:v}))}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}o.startTransition,new Promise(()=>{}),o.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(s){}new Map;const ae=o.startTransition;function ie(e){let{basename:t,children:n,future:r,window:a}=e,i=o.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),function(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,l=x.Pop,s=null,u=c();function c(){return(i.state||{idx:null}).idx}function p(){l=x.Pop;let e=c(),t=null==e?null:e-u;u=e,s&&s({action:l,location:f.location,delta:t})}function m(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"==typeof e?e:B(e);return n=n.replace(/ $/,"%20"),D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,i.replaceState(O({},i.state,{idx:u}),""));let f={get action(){return l},get location(){return e(o,i)},listen(e){if(s)throw new Error("A history only accepts one active listener");return o.addEventListener(j,p),s=e,()=>{o.removeEventListener(j,p),s=null}},createHref:e=>t(o,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=x.Push;let r=T(f.location,e,t);n&&n(r,e),u=c()+1;let p=U(r,u),m=f.createHref(r);try{i.pushState(p,"",m)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(m)}a&&s&&s({action:l,location:f.location,delta:1})},replace:function(e,t){l=x.Replace;let r=T(f.location,e,t);n&&n(r,e),u=c();let o=U(r,u),p=f.createHref(r);i.replaceState(o,"",p),a&&s&&s({action:l,location:f.location,delta:0})},go:e=>i.go(e)};return f}(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return T("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:B(t)},null,l)));let s=i.current,[u,c]=o.useState({action:s.action,location:s.location}),{v7_startTransition:p}=r||{},m=o.useCallback(e=>{p&&ae?ae(()=>c(e)):c(e)},[c,p]);return o.useLayoutEffect(()=>s.listen(m),[s,m]),o.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[r]),o.createElement(ne,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}S.flushSync,o.useId;const le="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=o.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:l,state:s,target:u,to:c,preventScrollReset:p,viewTransition:m}=e,f=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,oe),{basename:d}=o.useContext(K),h=!1;if("string"==typeof c&&se.test(c)&&(n=c,le))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=L(t.pathname,d);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:h=!0}catch(e){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;$()||D(!1);let{basename:r,navigator:a}=o.useContext(K),{hash:i,pathname:l,search:s}=Z(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:W([r,l])),a.createHref({pathname:u,search:s,hash:i})}(c,{relative:a}),y=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:s}=void 0===t?{}:t,u=Y(),c=Q(),p=Z(e,{relative:l});return o.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:B(c)===B(p);u(e,{replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:s})}},[c,u,p,r,a,n,e,i,l,s])}(c,{replace:l,state:s,target:u,preventScrollReset:p,relative:a,viewTransition:m});return o.createElement("a",re({},f,{href:n||v,onClick:h||i?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:u}))});var ce,pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ce||(ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(pe||(pe={}));var me=function(e){if("object"!==c(e))throw new Error("single-spa-react requires a configuration object");var t,n=u(u({},h),e);if(!n.React)throw new Error("single-spa-react must be passed opts.React");if(!n.ReactDOM&&!n.ReactDOMClient)throw new Error("single-spa-react must be passed opts.ReactDOM or opts.ReactDOMClient");if(n.renderType||(null!==(t=n.ReactDOMClient)&&void 0!==t&&t.createRoot?n.renderType="createRoot":n.renderType="render"),!n.rootComponent&&!n.loadRootComponent)throw new Error("single-spa-react must be passed opts.rootComponent or opts.loadRootComponent");if(n.errorBoundary&&"function"!=typeof n.errorBoundary)throw Error("The errorBoundary opt for single-spa-react must either be omitted or be a function that returns React elements");!d&&n.React.createContext&&(d=n.React.createContext()),n.SingleSpaRoot=function(e){function t(e){t.displayName="SingleSpaRoot(".concat(e.name,")")}return t.prototype=Object.create(e.React.Component.prototype),t.prototype.componentDidMount=function(){setTimeout(this.props.mountFinished)},t.prototype.componentWillUnmount=function(){setTimeout(this.props.unmountFinished)},t.prototype.render=function(){return setTimeout(this.props.updateFinished),this.props.children},t}(n);var r={bootstrap:v.bind(null,n),mount:y.bind(null,n),unmount:g.bind(null,n)};return n.parcelCanUpdate&&(r.update=b.bind(null,n)),r}({React:o.default,ReactDOMClient:a.default,rootComponent:function(e){return o.default.createElement(ie,null,o.default.createElement("div",{className:"h-16 flex items-center justify-between px-6 bg-primary text-white"},o.default.createElement("div",{className:"flex items-center justify-between"},E.map(function(e){return o.default.createElement(ue,{key:e.href,className:"p-6",to:e.href},e.name)})),o.default.createElement("div",{className:"flex items-center justify-between"},o.default.createElement("a",{href:"https://github.com/react-microfrontends",className:"externalLink"},"Github project"))))},errorBoundary:function(e,t,n){return o.default.createElement("div",{className:"h-16 flex items-center justify-between px-6 bg-primary text-white"},"Error")}}),fe=me.bootstrap,de=me.mount,he=me.unmount;export{fe as bootstrap,de as mount,he as unmount};
//# sourceMappingURL=react-mf-navbar.js.map